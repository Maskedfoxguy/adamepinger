/* Disable page scroll while the overlay is open */
body.nav-open { overflow: hidden; }

:root {
  --logo-nudge: 0px;
  /* New variable for responsive bubble animation origin */
  --bubble-origin: 3rem; /* Default for larger screens */
}

/* ---------- SEAMLESS Header ---------- */
.app-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 1rem 2rem;
  position: sticky;
  top: 0;
  width: 100%;
  z-index: 300;
  background: transparent;
  border-bottom: none;
}

.header-left, .header-right { flex: 1; display: flex; align-items: center; }
.header-left { justify-content: flex-start; }
.header-center { flex: 1; display: flex; justify-content: center; }
.header-center > a { display: inline-block; transform: translateX(var(--logo-nudge)); }
.header-right { justify-content: flex-end; }

.icon-button { background: none; border: none; cursor: pointer; padding: 6px; transition: transform 200ms ease; }
.icon-button:hover { transform: scale(1.1); }

.logo-image { height: 60px; transition: transform 220ms ease, filter 220ms ease, height 300ms ease; }
.logo-image:hover { transform: scale(1.05); filter: drop-shadow(0 0 12px rgba(255, 255, 255, 0.5)); }

.hamburger-button { display: inline-flex; align-items: center; justify-content: center; width: 44px; height: 44px; padding: 0; }
.hamburger-button .hamburger-img { display: block; width: 100% !important; height: 100% !important; object-fit: contain; pointer-events: none; }

/* ---------- "GROWING BUBBLE" OVERLAY MENU ---------- */
.nav-overlay {
  position: fixed; inset: 0; z-index: 250;
  /* Use the CSS variable for a responsive origin point */
  clip-path: circle(0% at var(--bubble-origin) var(--bubble-origin));
  transition: clip-path 650ms cubic-bezier(0.65, 0, 0.35, 1);
  background: rgba(12, 16, 20, 0.60);
  backdrop-filter: blur(12px) saturate(130%);
  -webkit-backdrop-filter: blur(12px) saturate(130%);
}
.nav-overlay.open {
  clip-path: circle(150% at var(--bubble-origin) var(--bubble-origin));
}

.overlay-nav { height: 100%; display: flex; align-items: center; justify-content: center; }
.overlay-list { list-style: none; margin: 0; padding: 0; display: flex; flex-direction: column; gap: clamp(1rem, 2.2vh, 1.6rem); align-items: center; text-align: center; }

.overlay-item {
  opacity: 0;
  transform: translateY(12px);
  animation: fadeUp 520ms cubic-bezier(0.33, 1, 0.68, 1) forwards;
  animation-delay: calc(300ms + 90ms * var(--i));
}
.nav-overlay:not(.open) .overlay-item { animation: none; opacity: 0; transform: translateY(12px); }

.overlay-link {
  position: relative;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 10px 16px;
  border-radius: 12px;
  color: #fff;
  text-decoration: none;
  font-weight: 800;
  font-size: clamp(1.6rem, 2.8vw, 2.4rem);
  letter-spacing: 0.2px;
  background: transparent;
  transition: transform 200ms ease, text-shadow 200ms ease, filter 200ms ease;
  will-change: transform, filter;
}

.overlay-link::after { content: ""; position: absolute; left: 50%; bottom: -6px; width: 100%; height: 2px; background: currentColor; transform: translateX(-50%) scaleX(0); transform-origin: 50% 50%; opacity: 0.65; transition: transform 220ms ease; }
.overlay-link:hover { transform: translateY(-3px); text-shadow: 0 2px 10px rgba(255, 255, 255, 0.18); filter: drop-shadow(0 6px 12px rgba(0, 0, 0, 0.25)); }
.overlay-link:hover::after { transform: translateX(-50%) scaleX(1); }
.overlay-link:focus-visible { outline: 2px solid rgba(255, 255, 255, 0.75); outline-offset: 4px; }

@keyframes fadeUp {
  0% { opacity: 0; transform: translateY(12px); }
  100% { opacity: 1; transform: translateY(0); }
}

/* ==================================================== */
/* =============== RESPONSIVE STYLES ================ */
/* ==================================================== */

/* --- TABLET (Portrait and Landscape) --- */
/* (768px to 1023px) */
@media (max-width: 1023px) {
  :root {
    --logo-nudge: -15px;
    --bubble-origin: 2.75rem;
  }
  .app-header { padding: 0.75rem 1.5rem; }
  .logo-image { height: 55px; }
  .overlay-link { font-size: clamp(1.5rem, 3.5vw, 2.2rem); }
}

/* --- SMARTPHONE (Large to Small) --- */
/* (up to 767px) */
@media (max-width: 767px) {
  :root {
    --logo-nudge: -8px;
    --bubble-origin: 2.5rem;
  }
  .app-header { padding: 0.5rem 1rem; }
  .logo-image { height: 50px; }
  .overlay-link { font-size: clamp(1.4rem, 6vw, 1.8rem); }
  .overlay-list { gap: 0.8rem; }
}

/* --- SMARTPHONE (Landscape) --- */
/* Tall phones turned sideways have little vertical space */
@media (max-width: 900px) and (max-height: 500px) and (orientation: landscape) {
  .overlay-link {
    font-size: 1.2rem;
    padding: 6px 12px;
  }
  .overlay-list {
    gap: 0.5rem;
  }
}

/* --- REDUCED MOTION --- */
@media (prefers-reduced-motion: reduce) {
  .overlay-item, .overlay-link, .nav-overlay {
    animation: none !important;
    transition: none !important;
  }
  .overlay-link::after { transform: translateX(-50%) scaleX(1); }
  .nav-overlay { clip-path: none; } /* On reduce motion, just fade in */
  .nav-overlay:not(.open) { opacity: 0; }
  .nav-overlay.open { opacity: 1; }
}
